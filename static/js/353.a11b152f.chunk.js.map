{"version":3,"file":"static/js/353.a11b152f.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/MoviesList/MoviesList.module.css?de3d","components/MoviesList/MoviesList.jsx","pages/MoviesPage/MoviesPage.module.css","webpack://react-homework-template/./src/components/MovieSearchForm/MovieSearchForm.module.css?70b3","components/MovieSearchForm/MovieSearchForm.jsx","components/MovieSearch/MovieSearch.module.css","components/MovieSearch/MovieSearch.jsx","pages/MoviesPage/MoviesPage.jsx","shared/api/api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"list\":\"MoviesList_list__0Owr9\",\"item\":\"MoviesList_item__eePYv\",\"link\":\"MoviesList_link__8rTGX\"};","import PropTypes from 'prop-types';\nimport { Link, useLocation } from 'react-router-dom';\nimport styles from './MoviesList.module.css';\n\nconst MoviesList = ({ items }) => {\n  const location = useLocation();\n\n  const elements = items.map(({ id, title }) => (\n    <li className={styles.item} key={id}>\n      <Link\n        className={styles.link}\n        to={`/movie/${id}`}\n        state={{ from: location }}\n      >\n        {title}\n      </Link>\n    </li>\n  ));\n\n  return <ul className={styles.list}>{elements}</ul>;\n};\n\nMoviesList.defaultProps = {\n  items: [],\n};\n\nMoviesList.propTypes = {\n  items: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      title: PropTypes.string.isRequired,\n    })\n  ),\n};\n\nexport default MoviesList;\n","// extracted by mini-css-extract-plugin\nexport default {};","// extracted by mini-css-extract-plugin\nexport default {\"button\":\"MovieSearchForm_button__adq4H\",\"label\":\"MovieSearchForm_label__qUJew\",\"input\":\"MovieSearchForm_input__L3jrA\"};","import PropTypes from 'prop-types';\nimport styles from './MovieSearchForm.module.css';\nimport { useState } from 'react';\n\nconst MovieSearchForm = ({ onSubmit }) => {\n  const [state, setState] = useState({ search: '' });\n\n  const handleChange = ({ target }) => {\n    const { name, value } = target;\n    setState(prevState => ({\n      ...prevState,\n      [name]: value,\n    }));\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    onSubmit({ ...state });\n    setState({ search: '' });\n  };\n\n  return (\n    <form className={styles.form} onSubmit={handleSubmit}>\n      <label className={styles.lable}>\n        <input\n          className={styles.input}\n          onChange={handleChange}\n          type=\"text\"\n          name=\"search\"\n          value={state.search}\n          pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\n          required\n          placeholder=\"Movie search\"\n        />\n      </label>\n      <button className={styles.button} type=\"submit\">\n        Search\n      </button>\n    </form>\n  );\n};\n\nMovieSearchForm.defaultProps = {\n  onSubmit: () => {},\n};\n\nMovieSearchForm.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport default MovieSearchForm;\n","// extracted by mini-css-extract-plugin\nexport default {};","import { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { getMoviesByQuery } from '../../shared/api/api';\nimport MovieSearchForm from '../MovieSearchForm';\nimport MoviesList from '../MoviesList';\nimport styles from './MovieSearch.module.css';\n\nconst MovieSearch = () => {\n  const [state, setState] = useState({\n    items: [],\n    loading: false,\n    error: null,\n  });\n\n  const { items } = state;\n\n  const [searchParams, setSearchParams] = useSearchParams();\n  const search = searchParams.get('query');\n\n  useEffect(() => {\n    const fetchMovie = async () => {\n      setState(prevState => ({\n        ...prevState,\n        loading: true,\n        error: false,\n      }));\n\n      try {\n        const { results } = await getMoviesByQuery(search);\n        setState(prevState => ({\n          ...prevState,\n          loading: false,\n          items: results,\n        }));\n      } catch (error) {\n        setState(prevState => ({\n          ...prevState,\n          loading: false,\n          error,\n        }));\n      }\n    };\n    if (search) {\n      fetchMovie();\n    }\n  }, [search]);\n\n  const changeSearch = ({ search }) => setSearchParams({ query: search });\n\n  return (\n    <div className={styles.wrap}>\n      <MovieSearchForm onSubmit={changeSearch} />\n      <MoviesList items={items} />\n    </div>\n  );\n};\n\nexport default MovieSearch;\n","import styles from './MoviesPage.module.css';\nimport MovieSearch from '../../components/MovieSearch';\n\nconst MoviesPage = () => {\n  return (\n    <div className={styles.div}>\n      <h2 className={styles.title}>Movies page</h2>\n      <MovieSearch />\n    </div>\n  );\n};\n\nexport default MoviesPage;\n","import axios from 'axios';\n\nconst instance = axios.create({\n  baseURL: 'https://api.themoviedb.org/3/',\n});\n\nconst APIKEY = '90ff20d482691dd64f3226f1017ad871';\n\nexport const getMovie = async (page = 1) => {\n  const {\n    data: { results },\n  } = await instance.get('trending/movie/day', {\n    params: {\n      api_key: APIKEY,\n      page,\n    },\n  });\n  return results;\n};\n\nexport const getMovieById = async id => {\n  const { data } = await instance.get(`/movie/${id}`, {\n    params: {\n      api_key: APIKEY,\n    },\n  });\n  return data;\n};\n\nexport const getMoviesByQuery = async query => {\n  const { data } = await instance.get('search/movie', {\n    params: {\n      api_key: APIKEY,\n      query,\n    },\n  });\n  return data;\n};\n\nexport const getCastById = async id => {\n  const { data } = await instance.get(`/movie/${id}/credits`, {\n    params: {\n      api_key: APIKEY,\n    },\n  });\n  return data;\n};\n\nexport const getRewiesById = async id => {\n  const { data } = await instance.get(`/movie/${id}/reviews`, {\n    params: {\n      api_key: APIKEY,\n    },\n  });\n  return data;\n};\n"],"names":["MoviesList","items","location","useLocation","elements","map","id","title","className","styles","to","state","from","defaultProps","MovieSearchForm","onSubmit","useState","search","setState","e","preventDefault","onChange","target","name","value","prevState","type","pattern","required","placeholder","loading","error","useSearchParams","searchParams","setSearchParams","get","useEffect","fetchMovie","getMoviesByQuery","results","query","instance","axios","baseURL","APIKEY","getMovie","page","params","api_key","data","getMovieById","getCastById","getRewiesById"],"sourceRoot":""}