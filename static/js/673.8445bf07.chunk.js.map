{"version":3,"file":"static/js/673.8445bf07.chunk.js","mappings":"qQACA,GAAgB,KAAO,2B,SCyDvB,EArDoB,WAClB,OAA0BA,EAAAA,EAAAA,UAAS,CACjCC,MAAO,GACPC,SAAS,EACTC,MAAO,OAHT,eAAOC,EAAP,KAAcC,EAAd,KAMQC,GAAOC,EAAAA,EAAAA,MAAPD,IAERE,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAY,mCAAG,6FACnBJ,GAAS,SAAAK,GAAS,yBACbA,GADa,IAEhBR,SAAS,EACTC,OAAO,GAHS,IADC,mBAOSQ,EAAAA,EAAAA,IAAcL,GAPvB,gBAOTM,EAPS,EAOTA,QACRP,GAAS,SAAAK,GAAS,yBACbA,GADa,IAEhBT,MAAOW,EACPV,SAAS,GAHO,IARD,gDAcjBG,GAAS,SAAAK,GAAS,yBACbA,GADa,IAEhBR,SAAS,EACTC,MAAK,MAHW,IAdD,yDAAH,qDAqBlBM,GACD,GAAE,CAACH,IAEJ,IAAQL,EAAUG,EAAVH,MAEFY,EAAWZ,EAAMa,KAAI,gBAAGC,EAAH,EAAGA,OAAQC,EAAX,EAAWA,QAASV,EAApB,EAAoBA,GAApB,OACzB,2BACE,gBAAIW,UAAWC,EAAAA,SAAf,qBAAyCH,MACzC,cAAGE,UAAWC,EAAAA,KAAd,SAA4BF,MAFrBV,EADgB,IAM3B,OACE,8BACGL,EAAMkB,OAAS,GACd,eAAIF,UAAWC,EAAAA,KAAf,SAA6BL,KAE7B,sEAIP,C,wLCtDKO,E,QAAWC,EAAAA,OAAa,CAC5BC,QAAS,kCAGLC,EAAS,mCAEFC,EAAQ,mCAAG,2GAAOC,EAAP,+BAAc,EAAd,SAGZL,EAASM,IAAI,qBAAsB,CAC3CC,OAAQ,CACNC,QAASL,EACTE,KAAAA,KANkB,uBAEZb,EAFY,EAEpBiB,KAAQjB,QAFY,kBASfA,GATe,2CAAH,qDAYRkB,EAAY,mCAAG,WAAMxB,GAAN,yFACHc,EAASM,IAAT,iBAAuBpB,GAAM,CAClDqB,OAAQ,CACNC,QAASL,KAHa,uBAClBM,EADkB,EAClBA,KADkB,kBAMnBA,GANmB,2CAAH,sDASZE,EAAgB,mCAAG,WAAMC,GAAN,yFACPZ,EAASM,IAAI,eAAgB,CAClDC,OAAQ,CACNC,QAASL,EACTS,MAAAA,KAJ0B,uBACtBH,EADsB,EACtBA,KADsB,kBAOvBA,GAPuB,2CAAH,sDAUhBI,EAAW,mCAAG,WAAM3B,GAAN,yFACFc,EAASM,IAAT,iBAAuBpB,EAAvB,YAAqC,CAC1DqB,OAAQ,CACNC,QAASL,KAHY,uBACjBM,EADiB,EACjBA,KADiB,kBAMlBA,GANkB,2CAAH,sDASXlB,EAAa,mCAAG,WAAML,GAAN,yFACJc,EAASM,IAAT,iBAAuBpB,EAAvB,YAAqC,CAC1DqB,OAAQ,CACNC,QAASL,KAHc,uBACnBM,EADmB,EACnBA,KADmB,kBAMpBA,GANoB,2CAAH,qD","sources":["webpack://react-homework-template/./src/pages/ReviewsPage/ReviewsPage.module.css?3ad9","pages/ReviewsPage/ReviewsPage.jsx","shared/api/api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"list\":\"ReviewsPage_list__IK83Q\"};","import { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { getRewiesById } from '../../shared/api/api';\nimport styles from './ReviewsPage.module.css';\n\nconst ReviewsPage = () => {\n  const [state, setState] = useState({\n    items: [],\n    loading: false,\n    error: null,\n  });\n\n  const { id } = useParams();\n\n  useEffect(() => {\n    const fetchReviews = async () => {\n      setState(prevState => ({\n        ...prevState,\n        loading: true,\n        error: false,\n      }));\n      try {\n        const { results } = await getRewiesById(id);\n        setState(prevState => ({\n          ...prevState,\n          items: results,\n          loading: false,\n        }));\n      } catch (error) {\n        setState(prevState => ({\n          ...prevState,\n          loading: false,\n          error,\n        }));\n      }\n    };\n    fetchReviews();\n  }, [id]);\n\n  const { items } = state;\n\n  const elements = items.map(({ author, content, id }) => (\n    <li key={id}>\n      <h3 className={styles.subtitle}>Author: {author}</h3>\n      <p className={styles.text}>{content}</p>\n    </li>\n  ));\n  return (\n    <>\n      {items.length > 0 ? (\n        <ul className={styles.list}>{elements}</ul>\n      ) : (\n        <p>We don't have any reviews for this movie.</p>\n      )}\n    </>\n  );\n};\n\nexport default ReviewsPage;\n\n// import styles from './ReviewsPage.module.css';\n\n// const ReviewsPage = () => {\n//   return (\n//     <div className={styles.div}>\n//       <h2>Reviews page</h2>\n//     </div>\n//   );\n// };\n\n// export default ReviewsPage;\n","import axios from 'axios';\n\nconst instance = axios.create({\n  baseURL: 'https://api.themoviedb.org/3/',\n});\n\nconst APIKEY = '90ff20d482691dd64f3226f1017ad871';\n\nexport const getMovie = async (page = 1) => {\n  const {\n    data: { results },\n  } = await instance.get('trending/movie/day', {\n    params: {\n      api_key: APIKEY,\n      page,\n    },\n  });\n  return results;\n};\n\nexport const getMovieById = async id => {\n  const { data } = await instance.get(`/movie/${id}`, {\n    params: {\n      api_key: APIKEY,\n    },\n  });\n  return data;\n};\n\nexport const getMoviesByQuery = async query => {\n  const { data } = await instance.get('search/movie', {\n    params: {\n      api_key: APIKEY,\n      query,\n    },\n  });\n  return data;\n};\n\nexport const getCastById = async id => {\n  const { data } = await instance.get(`/movie/${id}/credits`, {\n    params: {\n      api_key: APIKEY,\n    },\n  });\n  return data;\n};\n\nexport const getRewiesById = async id => {\n  const { data } = await instance.get(`/movie/${id}/reviews`, {\n    params: {\n      api_key: APIKEY,\n    },\n  });\n  return data;\n};\n"],"names":["useState","items","loading","error","state","setState","id","useParams","useEffect","fetchReviews","prevState","getRewiesById","results","elements","map","author","content","className","styles","length","instance","axios","baseURL","APIKEY","getMovie","page","get","params","api_key","data","getMovieById","getMoviesByQuery","query","getCastById"],"sourceRoot":""}